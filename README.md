# AI Novel Assistant

AIé©±åŠ¨çš„å°è¯´åˆ›ä½œåä½œå·¥å…·

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– AIåä½œåˆ›ä½œï¼šæ™ºèƒ½å®Œå–„è§’è‰²ã€è®¾å®šã€ç« èŠ‚å†…å®¹
- ğŸ“š é¡¹ç›®ç®¡ç†ï¼šå®Œæ•´çš„å°è¯´é¡¹ç›®ç»„ç»‡å’Œç®¡ç†
- ğŸ” ä¸€è‡´æ€§æ£€æŸ¥ï¼šå®æ—¶æ£€æµ‹è§’è‰²ã€è®¾å®šã€æƒ…èŠ‚ä¸€è‡´æ€§
- ğŸ“– ç« èŠ‚ç¼–è¾‘ï¼šä¸“ä¸šçš„ç¼–è¾‘å™¨ä½“éªŒ
- ğŸ“¤ å¤šæ ¼å¼å¯¼å‡ºï¼šæ”¯æŒEPUBã€TXTç­‰æ ¼å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

> **æ³¨æ„**: æœ¬é¡¹ç›®ç°åœ¨ä½¿ç”¨ **Monorepo æ¶æ„**ï¼Œæ‰€æœ‰ä¾èµ–éƒ½åœ¨æ ¹ç›®å½•ç»Ÿä¸€ç®¡ç†ï¼

### ä¸€é”®è®¾ç½®ï¼ˆæ¨èï¼‰
```bash
# è¿è¡Œè‡ªåŠ¨è®¾ç½®è„šæœ¬
./scripts/setup.sh
```

### æ‰‹åŠ¨è®¾ç½®
```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆä»…éœ€åœ¨æ ¹ç›®å½•è¿è¡Œï¼‰
npm install

# è®¾ç½®æ•°æ®åº“
npm run db:push
```

### å¼€å‘æ¨¡å¼
```bash
# å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒï¼ˆå‰ç«¯ + åç«¯ï¼‰
npm run dev

# æˆ–åˆ†åˆ«å¯åŠ¨
npm run client:dev  # ä»…å‰ç«¯
npm run server:dev  # ä»…åç«¯
```

### å¼€å‘æ•°æ®åº“
- é»˜è®¤æƒ…å†µä¸‹ï¼Œåç«¯åœ¨ `NODE_ENV=development` æ—¶ä¼šä½¿ç”¨æœ¬åœ° PostgreSQL æ•°æ®åº“è¿æ¥ä¸² `postgresql://noveluser:changeme@localhost:5432/novel_db?schema=public`
- å¦‚æœæœ¬åœ°å°šæœªå¯åŠ¨æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨é¡¹ç›®å†…çš„ Docker ç¼–æ’å¿«é€Ÿæ‹‰èµ·ï¼š
  ```bash
  docker compose -f docker-compose.postgres.yml up -d postgres
  ```
- éœ€è¦è‡ªå®šä¹‰æœ¬åœ°è¿æ¥æ—¶ï¼Œå¯è®¾ç½® `LOCAL_DATABASE_URL`ï¼›è‹¥è¦ç›´æ¥é“¾æ¥è¿œç¨‹æ•°æ®åº“ï¼Œåˆ™åœ¨ç¯å¢ƒå˜é‡ä¸­æ˜¾å¼è®¾ç½® `DATABASE_URL`
- éƒ¨ç½²åœ¨åå‘ä»£ç†åæ—¶ï¼Œè¯·é€šè¿‡ `TRUST_PROXY` æŒ‡å®šå¯ä¿¡ä»£ç†ï¼ˆé»˜è®¤åªä¿¡ä»» loopback/linklocal/uniquelocalï¼‰ï¼Œé¿å…ä½¿ç”¨ä¸å®‰å…¨çš„ `true`

### æ„å»ºå’Œéƒ¨ç½²
```bash
npm run build      # æ„å»ºå‰ç«¯
npm run start      # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```

ğŸ“– **è¯¦ç»†æ–‡æ¡£**: æŸ¥çœ‹ [MONOREPO.md](./MONOREPO.md) äº†è§£å®Œæ•´çš„ Monorepo æ¶æ„è¯´æ˜

## æ•°æ®åº“è¿ç§»

é¡¹ç›®æ”¯æŒä» SQLite è¿ç§»åˆ°ç”Ÿäº§çº§æ•°æ®åº“ï¼ˆPostgreSQL/MySQLï¼‰ã€‚

### ğŸ¯ æ¨èæ–¹æ¡ˆï¼šSupabase PostgreSQL

```bash
# 5åˆ†é’Ÿå¿«é€Ÿé…ç½®
# 1. è®¿é—® https://supabase.com åˆ›å»ºé¡¹ç›®
# 2. å¤åˆ¶è¿æ¥å­—ç¬¦ä¸²
# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.supabase.example server/.env
# ç¼–è¾‘ DATABASE_URL

# 4. åº”ç”¨æ•°æ®åº“ç»“æ„
cd server
npx prisma generate
npx prisma db push

# 5. æµ‹è¯•è¿æ¥
node test-db-connection.js
```

## æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express + Prisma
- **æ•°æ®åº“**: SQLite (å¼€å‘) / PostgreSQL (ç”Ÿäº§)
- **å‰ç«¯**: Vue 3 + Quasar + Monaco Editor
- **AIæœåŠ¡**: OpenAI API
- **å­˜å‚¨**: Cloudflare R2
- **æ¡Œé¢**: Electron (è®¡åˆ’ä¸­)

## å¼€å‘è¿›åº¦

- [x] é¡¹ç›®åˆå§‹åŒ–
- [x] æ•°æ®åº“è®¾è®¡
- [x] åç«¯API
- [x] å‰ç«¯ç•Œé¢  
- [x] AIé›†æˆæ¡†æ¶
- [x] åŸºç¡€å¯¼å‡ºåŠŸèƒ½
- [x] é¡¹ç›®ç®¡ç†ç•Œé¢
- [x] è§’è‰²ç®¡ç†
- [x] ä¸–ç•Œè®¾å®šç®¡ç†
- [x] ç« èŠ‚ç¼–è¾‘å™¨
- [x] AIåŠ©æ‰‹ç»„ä»¶

## è®¸å¯è¯

MIT License

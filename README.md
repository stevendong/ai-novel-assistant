<div align="center">

[é¡¹ç›®Logoå ä½å›¾ - å»ºè®®å°ºå¯¸: 200x200px, PNGæ ¼å¼, åŒ…å«AIå’Œä¹¦æœ¬å…ƒç´ çš„ç°ä»£åŒ–å›¾æ ‡]

# Smart Pen

[![GitHub Stars](https://img.shields.io/github/stars/stevendong/ai-novel-assistant?style=social)](https://github.com/yourusername/ai-novel-assistant/stargazers)
[![GitHub Forks](https://img.shields.io/github/forks/stevendong/ai-novel-assistant?style=social)](https://github.com/yourusername/ai-novel-assistant/network/members)
[![GitHub Issues](https://img.shields.io/github/issues/stevendong/ai-novel-assistant)](https://github.com/yourusername/ai-novel-assistant/issues)
[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://github.com/stevendong/ai-novel-assistant/releases)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

[English](./README.en.md) | ç®€ä½“ä¸­æ–‡

**AIé©±åŠ¨çš„æ™ºèƒ½å°è¯´åˆ›ä½œåä½œå¹³å°**

è®©AIæˆä¸ºä½ çš„å†™ä½œä¼™ä¼´ï¼Œè€Œä¸æ˜¯æ›¿ä»£å“

[åœ¨çº¿æ¼”ç¤º](#) | [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) 

</div>

## âš¡ é¡¹ç›®æ¦‚è¿°

AI Novel Assistant æ˜¯ä¸€ä¸ªä¸“ä¸ºé•¿ç¯‡å°è¯´åˆ›ä½œè®¾è®¡çš„æ™ºèƒ½å†™ä½œè¾…åŠ©å¹³å°ï¼Œé€šè¿‡ AI æŠ€æœ¯å¸®åŠ©ä½œå®¶æå‡åˆ›ä½œæ•ˆç‡å’Œè´¨é‡ã€‚

### ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

1. **æ™ºèƒ½è€Œä¸è¶Šç•Œ** - AI æä¾›å»ºè®®ä½†ä¸æ›¿ä»£åˆ›ä½œï¼Œä¿æŒä½œè€…çš„åˆ›ä½œä¸»å¯¼æƒ
2. **å…¨æµç¨‹æ”¯æŒ** - ä»å¤§çº²è§„åˆ’åˆ°æœ€ç»ˆå®šç¨¿ï¼Œè¦†ç›–å°è¯´åˆ›ä½œçš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ
3. **çŸ¥è¯†ç®¡ç†** - ç³»ç»ŸåŒ–ç®¡ç†è§’è‰²ã€ä¸–ç•Œè§‚ã€æƒ…èŠ‚çº¿ç­‰å¤æ‚åˆ›ä½œè¦ç´ 
4. **ä¸€è‡´æ€§ä¿éšœ** - AI è‡ªåŠ¨æ£€æµ‹å¹¶æç¤ºè§’è‰²æ€§æ ¼ã€ä¸–ç•Œè®¾å®šã€æƒ…èŠ‚é€»è¾‘ç­‰æ–¹é¢çš„çŸ›ç›¾
5. **ä¸“ä¸šç¼–è¾‘ä½“éªŒ** - åŸºäº Tiptap Editorï¼Œæä¾›æ¥è¿‘ IDE çš„å¼ºå¤§ç¼–è¾‘åŠŸèƒ½
6. **çµæ´»éƒ¨ç½²** - æ”¯æŒæœ¬åœ°éƒ¨ç½²å’Œäº‘ç«¯éƒ¨ç½²ï¼Œæ•°æ®å®Œå…¨å¯æ§

### ğŸ¬ æ¼”ç¤ºèµ„æº

- [åŠŸèƒ½æ¼”ç¤ºè§†é¢‘å ä½](#) - 5åˆ†é’Ÿå¿«é€Ÿäº†è§£æ ¸å¿ƒåŠŸèƒ½
- [åˆ›ä½œæµç¨‹æ¼”ç¤º](#) - å®Œæ•´çš„å°è¯´åˆ›ä½œå·¥ä½œæµå±•ç¤º
- [ç¤ºä¾‹é¡¹ç›®](#) - æŸ¥çœ‹ä½¿ç”¨æœ¬å·¥å…·åˆ›ä½œçš„ç¤ºä¾‹å°è¯´é¡¹ç›®

> "ä¼ ç»Ÿå†™ä½œå·¥å…·åªæ˜¯è®°å½•æ–‡å­—ï¼Œè€Œ AI Novel Assistant æ˜¯ä¸€ä¸ªçœŸæ­£ç†è§£ä½ åˆ›ä½œéœ€æ±‚çš„æ™ºèƒ½ä¼™ä¼´ã€‚"

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ¶æ„å›¾

[ç³»ç»Ÿæ¶æ„å›¾å ä½ - å»ºè®®å°ºå¯¸: 800x600px, å±•ç¤ºå‰åç«¯åˆ†ç¦»æ¶æ„ã€æ•°æ®åº“ã€AIæœåŠ¡é›†æˆ]

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å®¢æˆ·ç«¯å±‚ (Vue 3)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚é¡¹ç›®ç®¡ç†  â”‚è§’è‰²ç®¡ç†  â”‚ä¸–ç•Œè®¾å®š  â”‚ç« èŠ‚ç¼–è¾‘  â”‚AIåŠ©æ‰‹é¢æ¿â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API ç½‘å…³å±‚ (Express)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è®¤è¯ä¸­é—´ä»¶  â”‚  é€Ÿç‡é™åˆ¶  â”‚  CORS  â”‚  æ—¥å¿—è®°å½•        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä¸šåŠ¡é€»è¾‘å±‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚é¡¹ç›®æœåŠ¡  â”‚è§’è‰²æœåŠ¡  â”‚è®¾å®šæœåŠ¡  â”‚ç« èŠ‚æœåŠ¡  â”‚AIæœåŠ¡    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®æŒä¹…å±‚      â”‚                  â”‚    å¤–éƒ¨æœåŠ¡é›†æˆ       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Prisma ORMâ”‚  â”‚                  â”‚  â”‚  OpenAI API    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚                  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚        â”‚         â”‚                  â”‚  â”‚  Mem0 AI       â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”‚                  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚SQLite/PG   â”‚  â”‚                  â”‚  â”‚  Cloudflare R2 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

| ç»„ä»¶ | èŒè´£ | å…³é”®æŠ€æœ¯                          |
|------|------|-------------------------------|
| **é¡¹ç›®ç®¡ç†å¼•æ“** | å°è¯´é¡¹ç›®çš„CRUDæ“ä½œã€å…ƒæ•°æ®ç®¡ç†ã€è¿›åº¦è¿½è¸ª | Prisma ORM, SQLite/PostgreSQL |
| **çŸ¥è¯†åº“ç³»ç»Ÿ** | è§’è‰²æ¡£æ¡ˆã€ä¸–ç•Œè®¾å®šã€æƒ…èŠ‚çº¿çš„ç»“æ„åŒ–å­˜å‚¨å’Œæ£€ç´¢ | å…³ç³»å‹æ•°æ®åº“è®¾è®¡ã€å…¨æ–‡æœç´¢                 |
| **æ™ºèƒ½ç¼–è¾‘å™¨** | ç« èŠ‚å†…å®¹ç¼–è¾‘ã€å¤šæ ‡ç­¾ç®¡ç†ã€è‡ªåŠ¨ä¿å­˜ã€ç‰ˆæœ¬æ§åˆ¶ | Tiptap Editor, WebSocket      |
| **AI åä½œå¼•æ“** | å¯¹è¯æ¨¡å¼ã€å†…å®¹å¢å¼ºã€ä¸€è‡´æ€§æ£€æŸ¥ã€æƒ…èŠ‚å»ºè®® | OpenAI API, Mem0 AI, æç¤ºå·¥ç¨‹     |
| **å¯¼å‡ºå¼•æ“** | EPUBã€TXTç­‰å¤šæ ¼å¼å¯¼å‡ºï¼Œä¿ç•™æ ¼å¼å’Œå…ƒæ•°æ® | epub-gen, Archiver            |
| **è®¤è¯ç³»ç»Ÿ** | ç”¨æˆ·èº«ä»½éªŒè¯ã€ä¼šè¯ç®¡ç†ã€æƒé™æ§åˆ¶ | JWT, Clerk (å¯é€‰)               |

### å®Œæ•´å·¥ä½œæµç¨‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„å°è¯´åˆ›ä½œå·¥ä½œæµç¨‹ï¼š

| æ­¥éª¤ | æ“ä½œ | æ¶‰åŠæ¨¡å— | AIè¾…åŠ© |
|------|------|----------|--------|
| 1 | åˆ›å»ºå°è¯´é¡¹ç›®ï¼Œå¡«å†™æ ‡é¢˜ã€ç®€ä»‹ã€ç±»å‹ç­‰å…ƒæ•°æ® | é¡¹ç›®ç®¡ç† | - |
| 2 | å®šä¹‰ä¸»è¦è§’è‰²ï¼ŒåŒ…æ‹¬å¤–è²Œã€æ€§æ ¼ã€èƒŒæ™¯æ•…äº‹ã€å…³ç³»ç½‘ | è§’è‰²ç®¡ç† | AIç”Ÿæˆè§’è‰²å»ºè®®ã€æ€§æ ¼åˆ†æ |
| 3 | æ„å»ºä¸–ç•Œè§‚ï¼Œæ·»åŠ åœ°ç‚¹ã€è§„åˆ™ã€æ–‡åŒ–ã€å†å²ç­‰è®¾å®š | ä¸–ç•Œè®¾å®š | AIååŠ©å®Œå–„è®¾å®šé€»è¾‘ |
| 4 | åˆ›å»ºç« èŠ‚å¤§çº²ï¼Œè§„åˆ’æƒ…èŠ‚å‘å±• | ç« èŠ‚ç¼–è¾‘ | AIæä¾›æƒ…èŠ‚å»ºè®®å’Œå†²çªç‚¹ |
| 5 | ç¼–å†™ç« èŠ‚å†…å®¹ï¼Œä½¿ç”¨AIåŠ©æ‰‹è¿›è¡Œå¯¹è¯å’Œå¢å¼º | æ™ºèƒ½ç¼–è¾‘å™¨ + AIé¢æ¿ | å¯¹è¯å¼åˆ›ä½œã€æ–‡æœ¬æ¶¦è‰²ã€æ‰©å†™ |
| 6 | è¿è¡Œä¸€è‡´æ€§æ£€æŸ¥ï¼Œå‘ç°å¹¶ä¿®å¤çŸ›ç›¾ | AIåä½œå¼•æ“ | è‡ªåŠ¨æ£€æµ‹è§’è‰²ã€è®¾å®šã€æƒ…èŠ‚çŸ›ç›¾ |
| 7 | å¯¼å‡ºæˆå“ï¼Œç”ŸæˆEPUBæˆ–TXTæ ¼å¼ | å¯¼å‡ºå¼•æ“ | - |

### é¡¹ç›®ç›®å½•ç»“æ„

```
ai-novel-assistant/
â”œâ”€â”€ client/                          # å‰ç«¯åº”ç”¨ (Vue 3 + TypeScript)
â”‚   â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ favicon.ico
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ assets/                  # æ ·å¼å’Œèµ„æºæ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ base.css            # åŸºç¡€æ ·å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ main.css            # Tailwind CSS å…¥å£
â”‚   â”‚   â”‚   â””â”€â”€ logo.svg
â”‚   â”‚   â”œâ”€â”€ components/              # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/             # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainLayout.vue  # ä¸»å¸ƒå±€æ¡†æ¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HeaderBar.vue   # é¡¶éƒ¨å¯¼èˆªæ 
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.vue     # å·¦ä¾§å¯¼èˆªæ 
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StatusBar.vue   # åº•éƒ¨çŠ¶æ€æ 
â”‚   â”‚   â”‚   â”œâ”€â”€ project/            # é¡¹ç›®ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectCard.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ProjectForm.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ character/          # è§’è‰²ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CharacterList.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CharacterDetail.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CharacterFormModal.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ editor/             # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChapterEditor.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MonacoEditor.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ EditorToolbar.vue
â”‚   â”‚   â”‚   â””â”€â”€ ai/                 # AI åŠ©æ‰‹ç»„ä»¶
â”‚   â”‚   â”‚       â”œâ”€â”€ AIAssistantPanel.vue
â”‚   â”‚   â”‚       â”œâ”€â”€ ChatInterface.vue
â”‚   â”‚   â”‚       â””â”€â”€ EnhancementPanel.vue
â”‚   â”‚   â”œâ”€â”€ views/                   # é¡µé¢è§†å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectManagement.vue    # é¡¹ç›®ç®¡ç†é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ CharacterManagement.vue  # è§’è‰²ç®¡ç†é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ WorldSettingManagement.vue # ä¸–ç•Œè®¾å®šé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ ChapterEditor.vue        # ç« èŠ‚ç¼–è¾‘é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ ProgressStats.vue        # è¿›åº¦ç»Ÿè®¡é¡µ
â”‚   â”‚   â”œâ”€â”€ stores/                  # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ project.ts          # é¡¹ç›®çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ character.ts        # è§’è‰²çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ chapter.ts          # ç« èŠ‚çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ ai.ts               # AI åŠ©æ‰‹çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ services/                # API æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts              # Axios é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ projectApi.ts       # é¡¹ç›® API
â”‚   â”‚   â”‚   â”œâ”€â”€ characterApi.ts     # è§’è‰² API
â”‚   â”‚   â”‚   â””â”€â”€ aiApi.ts            # AI API
â”‚   â”‚   â”œâ”€â”€ router/                  # Vue Router é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ types/                   # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ App.vue                  # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.ts                  # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.ts              # Vite é…ç½®
â”‚   â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”‚   â”œâ”€â”€ tailwind.config.js          # Tailwind CSS é…ç½®
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ server/                          # åç«¯åº”ç”¨ (Node.js + Express)
â”‚   â”œâ”€â”€ routes/                      # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ novels.js               # é¡¹ç›®è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ characters.js           # è§’è‰²è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ settings.js             # ä¸–ç•Œè®¾å®šè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ chapters.js             # ç« èŠ‚è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ ai.js                   # AI æœåŠ¡è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ export.js               # å¯¼å‡ºè·¯ç”±
â”‚   â”‚   â””â”€â”€ auth.js                 # è®¤è¯è·¯ç”±
â”‚   â”œâ”€â”€ middleware/                  # Express ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.js                 # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ errorHandler.js         # é”™è¯¯å¤„ç†
â”‚   â”‚   â””â”€â”€ rateLimiter.js          # é€Ÿç‡é™åˆ¶
â”‚   â”œâ”€â”€ services/                    # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ aiService.js            # AI æœåŠ¡é›†æˆ
â”‚   â”‚   â”œâ”€â”€ exportService.js        # å¯¼å‡ºæœåŠ¡
â”‚   â”‚   â””â”€â”€ consistencyService.js   # ä¸€è‡´æ€§æ£€æŸ¥
â”‚   â”œâ”€â”€ prisma/                      # Prisma ORM
â”‚   â”‚   â”œâ”€â”€ schema.prisma           # æ•°æ®åº“ Schema
â”‚   â”‚   â”œâ”€â”€ migrations/             # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ seed.js                 # ç§å­æ•°æ®
â”‚   â”œâ”€â”€ utils/                       # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ logger.js               # æ—¥å¿—å·¥å…·
â”‚   â”‚   â””â”€â”€ helpers.js
â”‚   â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ database.js
â”‚   â”œâ”€â”€ index.js                     # æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ scripts/                         # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ setup.sh                    # è‡ªåŠ¨åŒ–è®¾ç½®è„šæœ¬
â”‚   â”œâ”€â”€ deploy.sh                   # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ backup.sh                   # æ•°æ®å¤‡ä»½è„šæœ¬
â”‚   â””â”€â”€ pre-deploy-check.sh         # éƒ¨ç½²å‰æ£€æŸ¥
â”‚
â”œâ”€â”€ docs/                           # æ–‡æ¡£
â”‚   â”œâ”€â”€ API.md                      # API æ–‡æ¡£
â”‚   â”œâ”€â”€ DEPLOYMENT.md               # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ DEVELOPMENT.md              # å¼€å‘æŒ‡å—
â”‚
â”œâ”€â”€ .env.example                    # æ ¹ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ package.json                    # æ ¹ package.json (Monorepo)
â”œâ”€â”€ CLAUDE.md                       # Claude Code å¼€å‘æŒ‡å—
â”œâ”€â”€ MONOREPO.md                     # Monorepo æ¶æ„è¯´æ˜
â”œâ”€â”€ LICENSE                         # MIT è®¸å¯è¯
â””â”€â”€ README.md                       # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½² (æ¨è)

Docker æ˜¯æœ€å¿«é€Ÿã€æœ€ç®€å•çš„éƒ¨ç½²æ–¹å¼ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ç¯å¢ƒã€‚

#### å‰ç½®è¦æ±‚
- Docker >= 20.10
- Docker Compose >= 2.0

#### å¯åŠ¨æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/ai-novel-assistant.git
cd ai-novel-assistant

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ OpenAI API Key

# 3. å¯åŠ¨æœåŠ¡ï¼ˆä¸€é”®å¯åŠ¨ï¼‰
docker compose up -d

# 4. è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯ API: http://localhost:3001
# Prisma Studio: http://localhost:5555
```

#### æ•°æ®åº“é…ç½®

å¦‚æœä½¿ç”¨ PostgreSQL ä½œä¸ºç”Ÿäº§æ•°æ®åº“ï¼š

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `DATABASE_URL` | PostgreSQL è¿æ¥å­—ç¬¦ä¸² | `postgresql://noveluser:changeme@localhost:5432/novel_db` |
| `POSTGRES_USER` | æ•°æ®åº“ç”¨æˆ·å | `noveluser` |
| `POSTGRES_PASSWORD` | æ•°æ®åº“å¯†ç  | `changeme` |
| `POSTGRES_DB` | æ•°æ®åº“åç§° | `novel_db` |

```bash
# å¿«é€Ÿå¯åŠ¨æœ¬åœ° PostgreSQL (Docker)
docker compose -f docker-compose.postgres.yml up -d postgres

# åº”ç”¨æ•°æ®åº“è¿ç§»
npm run db:push
```

### æ–¹å¼äºŒï¼šæºç éƒ¨ç½²

é€‚åˆå¼€å‘è€…å’Œéœ€è¦è‡ªå®šä¹‰é…ç½®çš„ç”¨æˆ·ã€‚

#### å‰ç½®è¦æ±‚
- Node.js >= 20.19.0
- npm >= 9.0.0
- SQLite 3 (å¼€å‘) æˆ– PostgreSQL 14+ (ç”Ÿäº§)

#### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/ai-novel-assistant.git
cd ai-novel-assistant

# 2. å®‰è£…ä¾èµ–ï¼ˆMonorepo ç»Ÿä¸€ç®¡ç†ï¼‰
npm install

# 3. é…ç½®æœåŠ¡ç«¯ç¯å¢ƒå˜é‡
cp server/.env.example server/.env
# ç¼–è¾‘ server/.envï¼Œé…ç½®ä»¥ä¸‹å¿…éœ€é¡¹ï¼š
# - OPENAI_API_KEY: ä½ çš„ OpenAI API å¯†é’¥
# - DATABASE_URL: æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²

# 4. é…ç½®å®¢æˆ·ç«¯ç¯å¢ƒå˜é‡
cp client/.env.example client/.env
# ç¼–è¾‘ client/.envï¼Œé…ç½®ï¼š
# - VITE_API_BASE_URL: åç«¯ API åœ°å€ï¼ˆé»˜è®¤ http://localhost:3001ï¼‰

# 5. åˆå§‹åŒ–æ•°æ®åº“
npm run db:push

# 6. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå‰ç«¯+åç«¯åŒæ—¶å¯åŠ¨ï¼‰
npm run dev

# å‰ç«¯æœåŠ¡: http://localhost:5173
# åç«¯æœåŠ¡: http://localhost:3001
```

#### åˆ†æ­¥å¯åŠ¨ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦å•ç‹¬å¯åŠ¨å‰ç«¯æˆ–åç«¯ï¼š

```bash
# ä»…å¯åŠ¨å‰ç«¯
npm run client:dev

# ä»…å¯åŠ¨åç«¯
npm run server:dev

# æ‰“å¼€ Prisma Studio æ•°æ®åº“ç®¡ç†ç•Œé¢
npm run db:studio
```

### æ–¹å¼ä¸‰ï¼šä¸€é”®è‡ªåŠ¨åŒ–è®¾ç½®

ä½¿ç”¨é¡¹ç›®æä¾›çš„è‡ªåŠ¨åŒ–è„šæœ¬ï¼š

```bash
# è¿è¡Œè‡ªåŠ¨è®¾ç½®è„šæœ¬ï¼ˆä¼šè‡ªåŠ¨æ£€æµ‹ç¯å¢ƒã€å®‰è£…ä¾èµ–ã€é…ç½®æ•°æ®åº“ï¼‰
./scripts/setup.sh

# è„šæœ¬ä¼šæ‰§è¡Œï¼š
# - æ£€æŸ¥ Node.js å’Œ npm ç‰ˆæœ¬
# - å®‰è£…æ‰€æœ‰ä¾èµ–
# - å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
# - åˆå§‹åŒ–æ•°æ®åº“
# - æç¤ºä¸‹ä¸€æ­¥æ“ä½œ
```

---

## âš™ï¸ ç¯å¢ƒé…ç½®

### å¿…éœ€é…ç½®

#### æœåŠ¡ç«¯ç¯å¢ƒå˜é‡ (`server/.env`)

```bash
# OpenAI API é…ç½®ï¼ˆå¿…éœ€ï¼‰
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxx

# æ•°æ®åº“é…ç½®
DATABASE_URL="file:./prisma/novels.db"  # SQLite (å¼€å‘ç¯å¢ƒ)
# DATABASE_URL="postgresql://user:password@host:5432/dbname"  # PostgreSQL (ç”Ÿäº§ç¯å¢ƒ)

# æœåŠ¡å™¨é…ç½®
PORT=3001
NODE_ENV=development

# CORS é…ç½®
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
```

#### å®¢æˆ·ç«¯ç¯å¢ƒå˜é‡ (`client/.env`)

```bash
# API é…ç½®ï¼ˆå¿…éœ€ï¼‰
VITE_API_BASE_URL=http://localhost:3001
```

### å¯é€‰é…ç½®

#### Clerk ç°ä»£åŒ–è®¤è¯ï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰

```bash
# å®¢æˆ·ç«¯ (client/.env)
VITE_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx

# è®¤è¯åŠŸèƒ½å¼€å…³
VITE_ALLOW_AUTH_MODE_SWITCH=true      # å…è®¸åˆ‡æ¢è®¤è¯æ¨¡å¼
VITE_ENABLE_SOCIAL_LOGIN=true         # å¯ç”¨ç¤¾äº¤ç™»å½•
VITE_ENABLE_EMAIL_VERIFICATION=true   # å¯ç”¨é‚®ç®±éªŒè¯
```

#### Cloudflare R2 å¯¹è±¡å­˜å‚¨ï¼ˆç”¨äºæ–‡ä»¶ä¸Šä¼ ï¼‰

```bash
# æœåŠ¡ç«¯ (server/.env)
R2_ACCOUNT_ID=your_r2_account_id
R2_ACCESS_KEY_ID=your_r2_access_key
R2_SECRET_ACCESS_KEY=your_r2_secret_key
R2_BUCKET_NAME=ai-novel-assistant
R2_PUBLIC_URL=https://your-bucket.r2.cloudflarestorage.com
```

#### åå‘ä»£ç†å’Œå®‰å…¨é…ç½®

```bash
# æœåŠ¡ç«¯ (server/.env)
TRUST_PROXY=loopback,linklocal,uniquelocal  # å¯ä¿¡ä»£ç†é…ç½®
RATE_LIMIT_WINDOW_MS=900000                 # é€Ÿç‡é™åˆ¶æ—¶é—´çª—å£ï¼ˆ15åˆ†é’Ÿï¼‰
RATE_LIMIT_MAX_REQUESTS=100                 # æ—¶é—´çª—å£å†…æœ€å¤§è¯·æ±‚æ•°
```

### è·å– API å¯†é’¥

<details>
<summary><b>ğŸ“ OpenAI API Key è·å–æŒ‡å—</b></summary>

1. è®¿é—® [OpenAI Platform](https://platform.openai.com/api-keys)
2. ç™»å½•æˆ–æ³¨å†Œè´¦å·
3. ç‚¹å‡» "Create new secret key"
4. å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆæ ¼å¼ï¼š`sk-proj-...`ï¼‰
5. å°†å¯†é’¥å¡«å…¥ `server/.env` çš„ `OPENAI_API_KEY`

**æ³¨æ„äº‹é¡¹ï¼š**
- å¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ï¼ŒåŠ¡å¿…ä¿å­˜
- å»ºè®®è®¾ç½®ä½¿ç”¨é™é¢é¿å…æ„å¤–è´¹ç”¨
- ä¸è¦å°†å¯†é’¥æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
</details>

<details>
<summary><b>ğŸ” Clerk Publishable Key è·å–æŒ‡å—</b></summary>

1. è®¿é—® [Clerk Dashboard](https://dashboard.clerk.com)
2. åˆ›å»ºæ–°åº”ç”¨æˆ–é€‰æ‹©ç°æœ‰åº”ç”¨
3. åœ¨ "API Keys" é¡µé¢æ‰¾åˆ° "Publishable Key"
4. å¤åˆ¶å¯†é’¥ï¼ˆæ ¼å¼ï¼š`pk_test_...` æˆ– `pk_live_...`ï¼‰
5. å°†å¯†é’¥å¡«å…¥ `client/.env` çš„ `VITE_CLERK_PUBLISHABLE_KEY`

**é…ç½®å»ºè®®ï¼š**
- å¼€å‘ç¯å¢ƒä½¿ç”¨ `pk_test_` å¯†é’¥
- ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ `pk_live_` å¯†é’¥
- å¯ç”¨ Email å’Œ Social Login æå‡ç”¨æˆ·ä½“éªŒ
</details>

---

## ğŸ¨ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£

### 1. é¡¹ç›®ç®¡ç†

[é¡¹ç›®ç®¡ç†ç•Œé¢æˆªå›¾å ä½ - å»ºè®®å°ºå¯¸: 1200x800px, å±•ç¤ºé¡¹ç›®åˆ—è¡¨ã€ç»Ÿè®¡æ•°æ®ã€ç­›é€‰åŠŸèƒ½]

**åŠŸèƒ½äº®ç‚¹ï¼š**
- ğŸ“‚ å¤šé¡¹ç›®ç®¡ç†ï¼Œæ¯ä¸ªé¡¹ç›®ç‹¬ç«‹æ•°æ®ç©ºé—´
- ğŸ“Š å®æ—¶ç»Ÿè®¡ï¼šæ€»å­—æ•°ã€ç« èŠ‚æ•°ã€è§’è‰²æ•°ã€å®Œæˆåº¦
- ğŸ·ï¸ é¡¹ç›®åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ
- ğŸ” å¿«é€Ÿæœç´¢å’Œç­›é€‰
- ğŸ“ˆ å†™ä½œè¿›åº¦å¯è§†åŒ–

### 2. è§’è‰²ç®¡ç†ç³»ç»Ÿ

[è§’è‰²ç®¡ç†ç•Œé¢æˆªå›¾å ä½ - å»ºè®®å°ºå¯¸: 1200x800px, å±•ç¤ºè§’è‰²å¡ç‰‡ã€è¯¦æƒ…é¢æ¿ã€å…³ç³»å›¾è°±]

**åŠŸèƒ½äº®ç‚¹ï¼š**
- ğŸ‘¤ è¯¦ç»†è§’è‰²æ¡£æ¡ˆï¼šå¤–è²Œã€æ€§æ ¼ã€èƒŒæ™¯ã€èƒ½åŠ›
- ğŸ•¸ï¸ è§’è‰²å…³ç³»ç½‘ç»œå¯è§†åŒ–
- ğŸ“ è§’è‰²æˆé•¿è½¨è¿¹è®°å½•
- ğŸ¤– AI è¾…åŠ©ç”Ÿæˆè§’è‰²å»ºè®®
- ğŸ”— ç« èŠ‚å¼•ç”¨è¿½è¸ª

**è§’è‰²å±æ€§æ¨¡æ¿ï¼š**
```
åŸºæœ¬ä¿¡æ¯ï¼šå§“åã€å¹´é¾„ã€æ€§åˆ«ã€ç§æ—ã€èŒä¸š
å¤–è²Œç‰¹å¾ï¼šèº«é«˜ã€ä½“å‹ã€å‘è‰²ã€çœ¼è‰²ã€æ ‡å¿—æ€§ç‰¹å¾
æ€§æ ¼ç‰¹ç‚¹ï¼šMBTIã€æ ¸å¿ƒæ€§æ ¼ã€ä¼˜ç‚¹ã€ç¼ºç‚¹ã€ææƒ§
èƒŒæ™¯æ•…äº‹ï¼šå‡ºèº«ã€ç»å†ã€è½¬æŠ˜ç‚¹ã€åŠ¨æœºã€ç›®æ ‡
èƒ½åŠ›ç³»ç»Ÿï¼šæŠ€èƒ½ã€ç‰¹æ®Šèƒ½åŠ›ã€è£…å¤‡ã€æˆ˜åŠ›è¯„ä¼°
ç¤¾äº¤å…³ç³»ï¼šäº²äººã€æœ‹å‹ã€æ•Œäººã€æƒ…æ„Ÿå…³ç³»
```

### 3. ä¸–ç•Œè®¾å®šç®¡ç†

[ä¸–ç•Œè®¾å®šç•Œé¢æˆªå›¾å ä½ - å»ºè®®å°ºå¯¸: 1200x800px, å±•ç¤ºè®¾å®šåˆ†ç±»ã€è¯¦æƒ…ç¼–è¾‘ã€å…³è”æ ‡ç­¾]

**åŠŸèƒ½äº®ç‚¹ï¼š**
- ğŸŒ åˆ†ç±»ç®¡ç†ï¼šåœ°ç†ã€å†å²ã€æ–‡åŒ–ã€è§„åˆ™ã€ç»„ç»‡ã€ç§‘æŠ€ç­‰
- ğŸ—ºï¸ åœ°ç‚¹è¯¦æƒ…ï¼šæè¿°ã€åœ°å›¾ã€ç›¸å…³äº‹ä»¶
- âš–ï¸ è§„åˆ™ç³»ç»Ÿï¼šé­”æ³•ä½“ç³»ã€ä¿®ç‚¼ç­‰çº§ã€ç¤¾ä¼šåˆ¶åº¦
- ğŸ“… æ—¶é—´çº¿ç®¡ç†ï¼šå†å²äº‹ä»¶ã€é‡å¤§èŠ‚ç‚¹
- ğŸ”— è®¾å®šå…³è”å’Œå¼•ç”¨è¿½è¸ª

### 4. æ™ºèƒ½ç« èŠ‚ç¼–è¾‘å™¨

[ç¼–è¾‘å™¨ç•Œé¢æˆªå›¾å ä½ - å»ºè®®å°ºå¯¸: 1400x900px, å±•ç¤ºMonacoç¼–è¾‘å™¨ã€å¤šæ ‡ç­¾ã€å·¥å…·æ ]

**åŠŸèƒ½äº®ç‚¹ï¼š**
- âœ¨ ä¸“ä¸šç¼–è¾‘å™¨ï¼šåŸºäº Monaco Editorï¼Œæä¾›ä»£ç çº§ç¼–è¾‘ä½“éªŒ
- ğŸ“‘ å¤šæ ‡ç­¾ç®¡ç†ï¼šåŒæ—¶æ‰“å¼€å¤šä¸ªç« èŠ‚ï¼Œå¿«é€Ÿåˆ‡æ¢
- ğŸ’¾ è‡ªåŠ¨ä¿å­˜ï¼šå®æ—¶ä¿å­˜è‰ç¨¿ï¼Œæ°¸ä¸ä¸¢å¤±å†…å®¹
- ğŸ“Š å®æ—¶ç»Ÿè®¡ï¼šå­—æ•°ã€æ®µè½æ•°ã€é¢„è®¡é˜…è¯»æ—¶é—´
- ğŸ¯ å¤§çº²æ¨¡å¼ï¼šç« èŠ‚å¤§çº²ã€æƒ…èŠ‚ç‚¹ã€ä¼ç¬”ç®¡ç†
- âŒ¨ï¸ å¿«æ·é”®æ”¯æŒï¼šæå‡ç¼–è¾‘æ•ˆç‡

**ç¼–è¾‘å™¨å¿«æ·é”®ï¼š**
| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+S` | ä¿å­˜ç« èŠ‚ |
| `Ctrl+F` | æŸ¥æ‰¾ |
| `Ctrl+H` | æ›¿æ¢ |
| `Ctrl+/` | åˆ‡æ¢æ³¨é‡Š |
| `Ctrl+K Ctrl+F` | æ ¼å¼åŒ–æ–‡æœ¬ |
| `Alt+â†‘/â†“` | ç§»åŠ¨è¡Œ |

### 5. AI æ™ºèƒ½åŠ©æ‰‹é¢æ¿

[AIåŠ©æ‰‹ç•Œé¢æˆªå›¾å ä½ - å»ºè®®å°ºå¯¸: 800x1000px, å±•ç¤ºå¯¹è¯æ¨¡å¼ã€å¢å¼ºæ¨¡å¼ã€æ£€æŸ¥æ¨¡å¼]

#### 5.1 å¯¹è¯æ¨¡å¼

ä¸ AI è¿›è¡Œåˆ›ä½œè®¨è®ºï¼Œè·å–çµæ„Ÿå’Œå»ºè®®ã€‚

**ä½¿ç”¨åœºæ™¯ï¼š**
- ğŸ’­ è®¨è®ºæƒ…èŠ‚å‘å±•æ–¹å‘
- ğŸ­ æ¢è®¨è§’è‰²æ€§æ ¼å’ŒåŠ¨æœº
- ğŸŒˆ å¤´è„‘é£æš´åˆ›æ„ç‚¹å­
- â“ å’¨è¯¢å†™ä½œæŠ€å·§å’Œå»ºè®®

**ç¤ºä¾‹å¯¹è¯ï¼š**
```
ä½œè€…: ä¸»è§’åœ¨è¿™ä¸€ç« é‡åˆ°äº†èƒŒå›ï¼Œæˆ‘è¯¥å¦‚ä½•å¤„ç†ä»–çš„æƒ…ç»ªååº”ï¼Ÿ
AI: è€ƒè™‘åˆ°ä¸»è§’ä¹‹å‰å»ºç«‹çš„ä¿¡ä»»å’Œæ€§æ ¼ç‰¹ç‚¹ï¼Œå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹å‘å±•å¼€...
```

#### 5.2 å†…å®¹å¢å¼ºæ¨¡å¼

é€‰ä¸­æ–‡æœ¬ï¼Œä½¿ç”¨ AI è¿›è¡Œæ™ºèƒ½æ”¹å†™å’Œä¼˜åŒ–ã€‚

**å¢å¼ºåŠŸèƒ½ï¼š**
- ğŸ“ **æ–‡æœ¬æ¶¦è‰²**ï¼šä¼˜åŒ–è¯­å¥æµç•…åº¦å’Œæ–‡é‡‡
- ğŸ“– **å†…å®¹æ‰©å†™**ï¼šè¡¥å……ç»†èŠ‚å’Œåœºæ™¯æå†™
- ğŸ¯ **é‡ç‚¹æç‚¼**ï¼šå‹ç¼©å†—ä½™ï¼Œçªå‡ºæ ¸å¿ƒ
- ğŸ¨ **é£æ ¼è½¬æ¢**ï¼šæ”¹å˜å™è¿°é£æ ¼å’Œè¯­æ°”
- ğŸŒŸ **åˆ›æ„å¢å¼º**ï¼šæ·»åŠ ä¿®è¾å’Œæ„è±¡

**æ“ä½œæµç¨‹ï¼š**
1. åœ¨ç¼–è¾‘å™¨ä¸­é€‰ä¸­éœ€è¦ä¼˜åŒ–çš„æ–‡æœ¬
2. æ‰“å¼€ AI åŠ©æ‰‹é¢æ¿ï¼Œåˆ‡æ¢åˆ°"å¢å¼º"æ¨¡å¼
3. é€‰æ‹©å¢å¼ºç±»å‹ï¼ˆæ¶¦è‰²/æ‰©å†™/æç‚¼/è½¬æ¢ï¼‰
4. AI ç”Ÿæˆå»ºè®®ç‰ˆæœ¬
5. ä¸€é”®åº”ç”¨æˆ–ç»§ç»­è°ƒæ•´

#### 5.3 ä¸€è‡´æ€§æ£€æŸ¥æ¨¡å¼

AI è‡ªåŠ¨æ‰«æå…¨æ–‡ï¼Œæ£€æµ‹å¹¶æç¤ºçŸ›ç›¾ä¹‹å¤„ã€‚

**æ£€æŸ¥é¡¹ç›®ï¼š**
- ğŸ‘¤ è§’è‰²ä¸€è‡´æ€§ï¼šæ€§æ ¼å‰åçŸ›ç›¾ã€èƒ½åŠ›è®¾å®šå†²çª
- ğŸŒ è®¾å®šä¸€è‡´æ€§ï¼šä¸–ç•Œè§‚è§„åˆ™è¿èƒŒã€åœ°ç†æè¿°çŸ›ç›¾
- ğŸ“– æƒ…èŠ‚ä¸€è‡´æ€§ï¼šæ—¶é—´çº¿é”™ä¹±ã€å› æœé€»è¾‘é—®é¢˜
- ğŸ—£ï¸ å¯¹è¯ä¸€è‡´æ€§ï¼šç§°å‘¼é”™è¯¯ã€ä¿¡æ¯æ³„éœ²
- ğŸ“… æ—¶é—´ä¸€è‡´æ€§ï¼šæ—¥æœŸè®¡ç®—é”™è¯¯ã€å­£èŠ‚æ··ä¹±

**æ£€æŸ¥æŠ¥å‘Šç¤ºä¾‹ï¼š**
```
âš ï¸ å‘ç° 3 å¤„æ½œåœ¨é—®é¢˜ï¼š

1. è§’è‰²çŸ›ç›¾ (ç¬¬12ç«  vs ç¬¬18ç« )
   - å¼ ä¸‰åœ¨ç¬¬12ç« æåˆ°ä»æœªå»è¿‡åŒ—æ–¹
   - ç¬¬18ç« å›å¿†ä¸­å´å‡ºç°åœ¨åŒ—æ–¹åŸå¸‚çš„åœºæ™¯
   å»ºè®®ï¼šè°ƒæ•´ç¬¬12ç« è¡¨è¿°æˆ–åˆ é™¤ç¬¬18ç« ç›¸å…³å›å¿†

2. æ—¶é—´çº¿é—®é¢˜ (ç¬¬5ç« )
   - æ•…äº‹å‘ç”Ÿåœ¨å†¬å­£ï¼Œå´å‡ºç°è·èŠ±ç››å¼€çš„æå†™
   å»ºè®®ï¼šä¿®æ”¹å­£èŠ‚æˆ–æ›´æ¢æ™¯ç‰©æå†™

3. è®¾å®šå†²çª (ç¬¬22ç« )
   - è¿åäº†ç¬¬3ç« å»ºç«‹çš„é­”æ³•è§„åˆ™ï¼šç¦å’’éœ€è¦24å°æ—¶å‡†å¤‡
   å»ºè®®ï¼šå¢åŠ å‡†å¤‡æ—¶é—´æå†™æˆ–è°ƒæ•´è§„åˆ™è®¾å®š
```

### 6. å¤šæ ¼å¼å¯¼å‡º

[å¯¼å‡ºç•Œé¢æˆªå›¾å ä½ - å»ºè®®å°ºå¯¸: 800x600px, å±•ç¤ºå¯¼å‡ºé€‰é¡¹ã€æ ¼å¼é€‰æ‹©ã€é¢„è§ˆ]

**æ”¯æŒæ ¼å¼ï¼š**
- ğŸ“± **EPUB**ï¼šç”µå­ä¹¦æ ‡å‡†æ ¼å¼ï¼Œæ”¯æŒå°é¢ã€ç›®å½•ã€å…ƒæ•°æ®
- ğŸ“„ **TXT**ï¼šçº¯æ–‡æœ¬æ ¼å¼ï¼Œä¿ç•™ç« èŠ‚ç»“æ„
- ğŸ“‹ **Markdown**ï¼šä¿ç•™æ ¼å¼æ ‡è®°ï¼Œä¾¿äºåç»­ç¼–è¾‘
- ğŸŒ **HTML**ï¼šç½‘é¡µæ ¼å¼ï¼Œé€‚åˆåœ¨çº¿é˜…è¯»

**å¯¼å‡ºé…ç½®ï¼š**
```
âœ… åŒ…å«å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€ç®€ä»‹ï¼‰
âœ… ç”Ÿæˆç›®å½•å¯¼èˆª
âœ… åµŒå…¥å°é¢å›¾ç‰‡
âœ… ä¿ç•™ç« èŠ‚å±‚çº§
âœ… è‡ªå®šä¹‰å­—ä½“å’Œæ’ç‰ˆ
```

---

## ğŸ“ ä½¿ç”¨æ•™ç¨‹

### å®Œæ•´åˆ›ä½œæµç¨‹ç¤ºä¾‹

#### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ–°é¡¹ç›®

```
1. ç‚¹å‡»"æ–°å»ºé¡¹ç›®"æŒ‰é’®
2. å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼š
   - å°è¯´æ ‡é¢˜ï¼šã€Šæ˜Ÿé™…è¿·èˆªï¼šæœªçŸ¥é¢†åŸŸã€‹
   - ç±»å‹ï¼šç§‘å¹»å°è¯´
   - ç®€ä»‹ï¼šä¸€ç¾¤æ˜Ÿé™…æ¢é™©å®¶çš„å†’é™©æ•…äº‹...
   - ç›®æ ‡å­—æ•°ï¼š200,000
3. ç‚¹å‡»"åˆ›å»º"
```

#### ç¬¬äºŒæ­¥ï¼šæ„å»ºè§’è‰²åº“

```
1. è¿›å…¥"è§’è‰²ç®¡ç†"
2. åˆ›å»ºä¸»è§’ï¼š
   - å§“åï¼šè‰¾ç³Â·ç§‘å°”
   - æ€§æ ¼ï¼šç†æ€§ã€æœæ–­ã€å¯Œæœ‰åŒæƒ…å¿ƒ
   - èƒŒæ™¯ï¼šå‰å†›å®˜ï¼Œç°æ¢é™©é˜Ÿé•¿
   - ä½¿ç”¨ AI åŠ©æ‰‹ç”Ÿæˆæ›´å¤šèƒŒæ™¯ç»†èŠ‚
3. åˆ›å»ºé…è§’å’Œåæ´¾
4. å»ºç«‹è§’è‰²å…³ç³»ç½‘
```

#### ç¬¬ä¸‰æ­¥ï¼šè®¾å®šä¸–ç•Œè§‚

```
1. è¿›å…¥"ä¸–ç•Œè®¾å®š"
2. æ·»åŠ åœ°ç†è®¾å®šï¼š
   - ä¸»è¦æ˜Ÿçƒï¼šæ³°æ‹‰æ˜Ÿã€è¯ºç“¦æ˜Ÿ
   - ç©ºé—´ç«™ï¼šæ›™å…‰ç«™
3. æ·»åŠ è§„åˆ™è®¾å®šï¼š
   - è¶…å…‰é€Ÿèˆªè¡ŒåŸç†
   - å¤–æ˜Ÿç§æ—ç‰¹å¾
4. æ·»åŠ ç»„ç»‡è®¾å®šï¼š
   - æ˜Ÿé™…è”ç›Ÿ
   - æ¢é™©è€…åä¼š
```

#### ç¬¬å››æ­¥ï¼šè§„åˆ’ç« èŠ‚å¤§çº²

```
1. è¿›å…¥"ç« èŠ‚ç¼–è¾‘å™¨"
2. åˆ›å»ºç« èŠ‚ï¼š
   - ç¬¬ä¸€ç« ï¼šå¯ç¨‹
   - å¤§çº²ï¼šè‰¾ç³æ¥å—ä»»åŠ¡ï¼Œç»„å»ºé˜Ÿä¼ï¼Œå‡†å¤‡å‡ºå‘
   - æƒ…èŠ‚ç‚¹ï¼šé‡åˆ°è€æœ‹å‹ã€å‘ç°çº¿ç´¢ã€æ„å¤–äº‹ä»¶
3. ä½¿ç”¨ AI å¯¹è¯æ¨¡å¼è®¨è®ºæƒ…èŠ‚å‘å±•
```

#### ç¬¬äº”æ­¥ï¼šå¼€å§‹åˆ›ä½œ

```
1. æ‰“å¼€ç¬¬ä¸€ç« ç¼–è¾‘å™¨
2. æ ¹æ®å¤§çº²å¼€å§‹å†™ä½œ
3. é‡åˆ°å›°éš¾æ—¶ï¼š
   - ä½¿ç”¨ AI å¯¹è¯æ¨¡å¼å¯»æ±‚å»ºè®®
   - ä½¿ç”¨å¢å¼ºæ¨¡å¼æ¶¦è‰²æ®µè½
4. å®šæœŸä¿å­˜ï¼ˆè‡ªåŠ¨ä¿å­˜å·²å¯ç”¨ï¼‰
```

#### ç¬¬å…­æ­¥ï¼šä¸€è‡´æ€§æ£€æŸ¥

```
1. å®Œæˆè‹¥å¹²ç« èŠ‚åï¼Œè¿è¡Œä¸€è‡´æ€§æ£€æŸ¥
2. æŸ¥çœ‹ AI ç”Ÿæˆçš„æ£€æŸ¥æŠ¥å‘Š
3. é€é¡¹ä¿®å¤å‘ç°çš„é—®é¢˜
4. é‡æ–°æ£€æŸ¥ç¡®è®¤
```

#### ç¬¬ä¸ƒæ­¥ï¼šå¯¼å‡ºæˆå“

```
1. è¿›å…¥"å¯¼å‡º"åŠŸèƒ½
2. é€‰æ‹©æ ¼å¼ï¼šEPUB
3. é…ç½®å°é¢å’Œå…ƒæ•°æ®
4. ç‚¹å‡»"å¯¼å‡º"
5. ä¸‹è½½ç”Ÿæˆçš„ç”µå­ä¹¦æ–‡ä»¶
```

### æœ€ä½³å®è·µå»ºè®®

#### âœ… æ¨èåšæ³•

1. **å…ˆè§„åˆ’ååˆ›ä½œ**ï¼šå…ˆå®Œå–„è§’è‰²å’Œä¸–ç•Œè§‚ï¼Œå†å¼€å§‹å†™ä½œæ­£æ–‡
2. **å®šæœŸæ£€æŸ¥**ï¼šæ¯å®Œæˆ 5-10 ç« å°±è¿è¡Œä¸€æ¬¡ä¸€è‡´æ€§æ£€æŸ¥
3. **å–„ç”¨å¤§çº²**ï¼šåœ¨ç¼–è¾‘å™¨ä¸­ä½¿ç”¨å¤§çº²åŠŸèƒ½è§„åˆ’ç« èŠ‚ç»“æ„
4. **AI è¾…åŠ©è€Œéæ›¿ä»£**ï¼šå°† AI å»ºè®®ä½œä¸ºå‚è€ƒï¼Œä¿æŒè‡ªå·±çš„åˆ›ä½œé£æ ¼
5. **å¤‡ä»½æ•°æ®**ï¼šå®šæœŸå¯¼å‡ºé¡¹ç›®æ•°æ®å¤‡ä»½

#### âŒ é¿å…åšæ³•

1. **è¿‡åº¦ä¾èµ– AI**ï¼šä¸è¦è®© AI ç›´æ¥ç”Ÿæˆå¤§æ®µå†…å®¹
2. **å¿½ç•¥ä¸€è‡´æ€§**ï¼šä¸è¦ç­‰å…¨ä¹¦å®Œæˆæ‰æ£€æŸ¥çŸ›ç›¾
3. **é¢‘ç¹åˆ‡æ¢æ¨¡å¼**ï¼šä¸“æ³¨äºå½“å‰åˆ›ä½œä»»åŠ¡
4. **å¿½ç•¥å…ƒæ•°æ®**ï¼šè§’è‰²å’Œè®¾å®šè¦åŠæ—¶è®°å½•ï¼Œé¿å…é—å¿˜

---

## ğŸ”§ è¿›é˜¶é…ç½®

### æ•°æ®åº“è¿ç§»åˆ° PostgreSQL

ç”Ÿäº§ç¯å¢ƒæ¨èä½¿ç”¨ PostgreSQL æ›¿ä»£ SQLiteã€‚

#### ä½¿ç”¨ Supabase (æ¨è)

Supabase æä¾›å…è´¹çš„ PostgreSQL æ•°æ®åº“æ‰˜ç®¡ã€‚

```bash
# 1. è®¿é—® https://supabase.com åˆ›å»ºé¡¹ç›®
# 2. è·å–æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²

# 3. æ›´æ–°ç¯å¢ƒå˜é‡
# server/.env
DATABASE_URL="postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres"

# 4. åº”ç”¨æ•°æ®åº“ Schema
cd server
npx prisma generate
npx prisma db push

# 5. æµ‹è¯•è¿æ¥
node test-db-connection.js
```

#### ä½¿ç”¨æœ¬åœ° PostgreSQL

```bash
# 1. ä½¿ç”¨ Docker å¯åŠ¨æœ¬åœ° PostgreSQL
docker compose -f docker-compose.postgres.yml up -d postgres

# 2. é…ç½®è¿æ¥å­—ç¬¦ä¸²
DATABASE_URL="postgresql://noveluser:changeme@localhost:5432/novel_db"

# 3. åº”ç”¨è¿ç§»
npm run db:push

# 4. (å¯é€‰) è¿ç§» SQLite æ•°æ®
node scripts/migrate-sqlite-to-postgres.js
```

### è‡ªå®šä¹‰ AI æç¤ºè¯

ä¿®æ”¹ AI åŠ©æ‰‹çš„è¡Œä¸ºå’Œé£æ ¼ã€‚

#### é…ç½®æ–‡ä»¶ä½ç½®

```
server/config/ai-prompts.js
```

#### è‡ªå®šä¹‰å¯¹è¯æ¨¡å¼æç¤ºè¯

```javascript
// server/config/ai-prompts.js
module.exports = {
  dialogue: {
    systemPrompt: `ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„å°è¯´åˆ›ä½œé¡¾é—®ã€‚
    ä½ çš„èŒè´£æ˜¯å¸®åŠ©ä½œè€…æ€è€ƒæƒ…èŠ‚ã€è§’è‰²ã€ä¸–ç•Œè§‚ç­‰åˆ›ä½œé—®é¢˜ã€‚

    è¯·éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š
    - æä¾›å»ºè®®è€Œéç›´æ¥åˆ›ä½œå†…å®¹
    - é¼“åŠ±ä½œè€…å‘æŒ¥è‡ªå·±çš„åˆ›æ„
    - æå‡ºå¼€æ”¾å¼é—®é¢˜å¼•å¯¼æ€è€ƒ
    - è€ƒè™‘ä½œå“çš„æ•´ä½“ä¸€è‡´æ€§

    å½“å‰é¡¹ç›®ä¿¡æ¯ï¼š
    - å°è¯´ç±»å‹ï¼š{genre}
    - ç›®æ ‡è¯»è€…ï¼š{audience}
    - å·²æœ‰è§’è‰²ï¼š{characters}
    - ä¸–ç•Œè§‚è®¾å®šï¼š{worldSettings}`,
  },

  enhancement: {
    polish: `ä¼˜åŒ–ä»¥ä¸‹æ–‡æœ¬çš„è¯­è¨€è¡¨è¾¾ï¼Œä½¿å…¶æ›´æµç•…ã€æ›´æœ‰æ–‡é‡‡ï¼Œä½†ä¿æŒåŸæ„ä¸å˜...`,
    expand: `æ‰©å±•ä»¥ä¸‹æ–‡æœ¬ï¼Œè¡¥å……ç»†èŠ‚æå†™ã€åœºæ™¯æ°›å›´ã€äººç‰©åŠ¨ä½œç­‰...`,
    condense: `ç²¾ç®€ä»¥ä¸‹æ–‡æœ¬ï¼Œä¿ç•™æ ¸å¿ƒä¿¡æ¯ï¼Œåˆ é™¤å†—ä½™å†…å®¹...`,
  },

  consistency: {
    systemPrompt: `åˆ†æä»¥ä¸‹å†…å®¹ï¼Œæ£€æµ‹æ˜¯å¦å­˜åœ¨çŸ›ç›¾...`,
  }
};
```

### é›†æˆå…¶ä»– AI æ¨¡å‹

é¡¹ç›®æ”¯æŒé›†æˆå¤šç§ AI æœåŠ¡ã€‚

#### æ·»åŠ  Claude API æ”¯æŒ

```javascript
// server/services/aiService.js

const Anthropic = require('@anthropic-ai/sdk');

const anthropic = new Anthropic({
  apiKey: process.env.CLAUDE_API_KEY,
});

async function chatWithClaude(messages) {
  const response = await anthropic.messages.create({
    model: 'claude-3-5-sonnet-20241022',
    max_tokens: 1024,
    messages: messages,
  });

  return response.content[0].text;
}
```

#### é…ç½®æ¨¡å‹åˆ‡æ¢

```bash
# server/.env
AI_PROVIDER=openai  # openai | claude | azure | custom
OPENAI_API_KEY=sk-...
CLAUDE_API_KEY=sk-ant-...
```

### è‡ªå®šä¹‰ä¸»é¢˜å’Œæ ·å¼

ä¿®æ”¹å®¢æˆ·ç«¯ç•Œé¢æ ·å¼ã€‚

#### Tailwind é…ç½®

```javascript
// client/tailwind.config.js
export default {
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#f0f9ff',
          100: '#e0f2fe',
          // ... è‡ªå®šä¹‰ä¸»è‰²è°ƒ
          900: '#0c4a6e',
        },
      },
    },
  },
};
```

#### å…¨å±€æ ·å¼å˜é‡

```css
/* client/src/assets/base.css */
:root {
  --color-background: #ffffff;
  --color-text: #213547;
  --sidebar-width: 280px;
  --header-height: 64px;
  /* è‡ªå®šä¹‰ CSS å˜é‡ */
}
```

---

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### éƒ¨ç½²åˆ° Railway

Railway æä¾›ç®€å•çš„å…¨æ ˆåº”ç”¨éƒ¨ç½²ã€‚

```bash
# 1. å®‰è£… Railway CLI
npm install -g @railway/cli

# 2. ç™»å½• Railway
railway login

# 3. åˆå§‹åŒ–é¡¹ç›®
railway init

# 4. æ·»åŠ ç¯å¢ƒå˜é‡
railway variables set OPENAI_API_KEY=sk-...
railway variables set DATABASE_URL=postgresql://...

# 5. éƒ¨ç½²
railway up
```

### éƒ¨ç½²åˆ° Render

Render æä¾›å…è´¹çš„ Web æœåŠ¡æ‰˜ç®¡ã€‚

#### é…ç½®æ–‡ä»¶

```yaml
# render.yaml
services:
  - type: web
    name: ai-novel-assistant
    env: node
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: OPENAI_API_KEY
        sync: false
      - key: DATABASE_URL
        sync: false
```

#### éƒ¨ç½²æ­¥éª¤

```bash
# 1. è¿æ¥ GitHub ä»“åº“åˆ° Render
# 2. åˆ›å»ºæ–°çš„ Web Service
# 3. é€‰æ‹©ä»“åº“å’Œåˆ†æ”¯
# 4. é…ç½®ç¯å¢ƒå˜é‡
# 5. ç‚¹å‡» "Create Web Service"
```

### ä½¿ç”¨ Docker éƒ¨ç½²

#### æ„å»ºé•œåƒ

```bash
# æ„å»ºç”Ÿäº§é•œåƒ
docker build -t ai-novel-assistant:latest .

# è¿è¡Œå®¹å™¨
docker run -d \
  -p 3000:3000 \
  -p 3001:3001 \
  -e OPENAI_API_KEY=sk-... \
  -e DATABASE_URL=postgresql://... \
  -v /data/novels:/app/server/prisma \
  --name ai-novel-assistant \
  ai-novel-assistant:latest
```

#### Docker Compose ç”Ÿäº§é…ç½®

```yaml
# docker-compose.prod.yml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "3000:3000"
      - "3001:3001"
    environment:
      NODE_ENV: production
      OPENAI_API_KEY: ${OPENAI_API_KEY}
      DATABASE_URL: ${DATABASE_URL}
    volumes:
      - novel-data:/app/server/prisma
    restart: unless-stopped

  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_USER: noveluser
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_DB: novel_db
    volumes:
      - postgres-data:/var/lib/postgresql/data
    restart: unless-stopped

volumes:
  novel-data:
  postgres-data:
```

### Nginx åå‘ä»£ç†é…ç½®

```nginx
# /etc/nginx/sites-available/ai-novel-assistant
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # åç«¯ API
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # WebSocket æ”¯æŒ
    location /ws {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "Upgrade";
        proxy_set_header Host $host;
    }
}
```

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼

- ğŸ› **æŠ¥å‘Š Bug**ï¼š[æäº¤ Issue](https://github.com/stevendong/ai-novel-assistant/issues/new?template=bug_report.md)
- ğŸ’¡ **åŠŸèƒ½å»ºè®®**ï¼š[æäº¤ Feature Request](https://github.com/stevendong/ai-novel-assistant/issues/new?template=feature_request.md)
- ğŸ“– **æ”¹è¿›æ–‡æ¡£**ï¼šä¿®æ­£é”™è¯¯ã€è¡¥å……è¯´æ˜ã€ç¿»è¯‘æ–‡æ¡£
- ğŸ’» **è´¡çŒ®ä»£ç **ï¼šä¿®å¤ Bugã€å¼€å‘æ–°åŠŸèƒ½

### å¼€å‘æµç¨‹

```bash
# 1. Fork æœ¬ä»“åº“
# 2. å…‹éš†ä½ çš„ Fork
git clone https://github.com/stevendong/ai-novel-assistant.git
cd ai-novel-assistant

# 3. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/amazing-feature

# 4. è¿›è¡Œå¼€å‘
# è¯·éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒï¼ˆè§ CLAUDE.mdï¼‰

# 5. æäº¤æ›´æ”¹
git add .
git commit -m "feat: add amazing feature"

# 6. æ¨é€åˆ°ä½ çš„ Fork
git push origin feature/amazing-feature

# 7. åˆ›å»º Pull Request
# è®¿é—® GitHub é¡µé¢ï¼Œç‚¹å‡» "New Pull Request"
```

### ä»£ç è§„èŒƒ

åœ¨æäº¤ PR ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š

- âœ… ä»£ç é€šè¿‡ TypeScript ç±»å‹æ£€æŸ¥
- âœ… éµå¾ª ESLint è§„åˆ™ï¼ˆå¦‚å·²é…ç½®ï¼‰
- âœ… æ·»åŠ å¿…è¦çš„æ³¨é‡Šè¯´æ˜
- âœ… æ›´æ–°ç›¸å…³æ–‡æ¡£
- âœ… æµ‹è¯•åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… Commit ä¿¡æ¯éµå¾ªçº¦å®šï¼ˆè§ä¸‹æ–¹ï¼‰

### Commit ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤ Bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
refactor: ä»£ç é‡æ„
test: æ·»åŠ æµ‹è¯•
chore: æ„å»ºé…ç½®æˆ–è¾…åŠ©å·¥å…·å˜æ›´
```

ç¤ºä¾‹ï¼š
```bash
git commit -m "feat: add character relationship visualization"
git commit -m "fix: resolve chapter auto-save issue"
git commit -m "docs: update deployment guide"
```

### å¼€å‘ç¯å¢ƒè®¾ç½®

è¯¦ç»†çš„å¼€å‘æŒ‡å—è¯·å‚è€ƒï¼š
- [CLAUDE.md](./CLAUDE.md) - Claude Code å¼€å‘æŒ‡å—
- [MONOREPO.md](./MONOREPO.md) - Monorepo æ¶æ„è¯´æ˜

---

## ğŸ“… å¼€å‘è·¯çº¿å›¾

### ğŸ¯ å½“å‰ç‰ˆæœ¬ (v1.0.0)

- [x] æ ¸å¿ƒé¡¹ç›®ç®¡ç†åŠŸèƒ½
- [x] è§’è‰²å’Œä¸–ç•Œè®¾å®šç³»ç»Ÿ
- [x] ç« èŠ‚ç¼–è¾‘å™¨ï¼ˆMonaco Editorï¼‰
- [x] AI å¯¹è¯ã€å¢å¼ºã€æ£€æŸ¥æ¨¡å¼
- [x] EPUB/TXT å¯¼å‡ºåŠŸèƒ½
- [x] ç»Ÿä¸€è®¤è¯ç³»ç»Ÿï¼ˆClerk + JWTï¼‰
- [x] åŸºç¡€æƒé™ç®¡ç†

### ğŸš€ ä¸‹ä¸€ç‰ˆæœ¬ (v1.1.0) - è®¡åˆ’ä¸­

- [ ] **ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ**
  - ç« èŠ‚å†å²ç‰ˆæœ¬ç®¡ç†
  - å·®å¼‚å¯¹æ¯”å’Œå›æ»šåŠŸèƒ½
  - å¤šç‰ˆæœ¬åˆ†æ”¯æ”¯æŒ

- [ ] **åä½œåŠŸèƒ½**
  - å¤šäººå®æ—¶åä½œç¼–è¾‘
  - è¯„è®ºå’Œæ‰¹æ³¨ç³»ç»Ÿ
  - å›¢é˜Ÿæƒé™ç®¡ç†

- [ ] **æ™ºèƒ½åˆ†æ**
  - å†™ä½œé£æ ¼åˆ†æ
  - å¯è¯»æ€§è¯„åˆ†
  - æƒ…æ„Ÿæ›²çº¿å¯è§†åŒ–

- [ ] **ç§»åŠ¨ç«¯æ”¯æŒ**
  - å“åº”å¼ç•Œé¢ä¼˜åŒ–
  - ç§»åŠ¨ç«¯ä¸“ç”¨ç¼–è¾‘å™¨
  - PWA æ”¯æŒ

### ğŸ”® æœªæ¥è§„åˆ’ (v2.0.0+)

- [ ] **å¤š AI æ¨¡å‹æ”¯æŒ**
  - Claudeã€Geminiã€å›½äº§å¤§æ¨¡å‹é›†æˆ
  - è‡ªå®šä¹‰æ¨¡å‹åˆ‡æ¢
  - æœ¬åœ°æ¨¡å‹éƒ¨ç½²æ”¯æŒ

- [ ] **é«˜çº§å¯¼å‡ºåŠŸèƒ½**
  - PDF å¸¦æ ¼å¼å¯¼å‡º
  - Word DOCX æ ¼å¼
  - è‡ªå®šä¹‰æ¨¡æ¿ç³»ç»Ÿ
  - å‡ºç‰ˆç¤¾æ ¼å¼é¢„è®¾

- [ ] **æ’ä»¶ç³»ç»Ÿ**
  - å¼€æ”¾æ’ä»¶ API
  - ç¤¾åŒºæ’ä»¶å¸‚åœº
  - è‡ªå®šä¹‰ AI æç¤ºè¯æ’ä»¶

- [ ] **æ¡Œé¢åº”ç”¨**
  - Electron æ‰“åŒ…
  - ç¦»çº¿æ¨¡å¼æ”¯æŒ
  - æœ¬åœ° AI æ¨¡å‹é›†æˆ

- [ ] **æ•°æ®åˆ†æ**
  - å†™ä½œä¹ æƒ¯åˆ†æ
  - ç”Ÿäº§åŠ›ç»Ÿè®¡
  - åˆ›ä½œçƒ­åŠ›å›¾

- [ ] **ç¤¾åŒºåŠŸèƒ½**
  - ä½œå“åˆ†äº«å¹³å°
  - ç¤¾åŒºè¯„è®ºå’Œç‚¹èµ
  - åˆ›ä½œæ•™ç¨‹å’Œæ¨¡æ¿åº“

### ğŸ’¬ éœ€æ±‚å¾é›†

æ¬¢è¿åœ¨ [Discussions](https://github.com/stevendong/ai-novel-assistant/discussions) ä¸­æå‡ºä½ çš„åŠŸèƒ½éœ€æ±‚å’Œå»ºè®®ï¼

---

## âš ï¸ å…è´£å£°æ˜

1. **AI ç”Ÿæˆå†…å®¹**ï¼šæœ¬å·¥å…·ä½¿ç”¨ç¬¬ä¸‰æ–¹ AI æœåŠ¡ï¼ˆOpenAI ç­‰ï¼‰ï¼Œç”Ÿæˆçš„å†…å®¹è´¨é‡å’Œå‡†ç¡®æ€§ç”± AI æœåŠ¡æä¾›å•†è´Ÿè´£ã€‚è¯·å‹¿å®Œå…¨ä¾èµ– AI ç”Ÿæˆçš„å†…å®¹ï¼ŒåŠ¡å¿…è¿›è¡Œäººå·¥å®¡æ ¸ã€‚

2. **æ•°æ®éšç§**ï¼š
   - ä½¿ç”¨äº‘ç«¯ AI æœåŠ¡æ—¶ï¼Œä½ çš„å°è¯´å†…å®¹ä¼šè¢«å‘é€åˆ° AI æœåŠ¡æä¾›å•†çš„æœåŠ¡å™¨
   - è¯·å‹¿åœ¨å°è¯´ä¸­åŒ…å«çœŸå®çš„ä¸ªäººæ•æ„Ÿä¿¡æ¯
   - å»ºè®®ä½¿ç”¨è‡ªæ‰˜ç®¡éƒ¨ç½²ä»¥è·å¾—æ›´å¥½çš„éšç§ä¿æŠ¤

3. **ç‰ˆæƒå£°æ˜**ï¼š
   - ä½¿ç”¨æœ¬å·¥å…·åˆ›ä½œçš„å°è¯´ç‰ˆæƒå½’ä½œè€…æœ¬äººæ‰€æœ‰
   - AI è¾…åŠ©ç”Ÿæˆçš„å†…å®¹å¯èƒ½å­˜åœ¨ç‰ˆæƒäº‰è®®ï¼Œè¯·è°¨æ…ä½¿ç”¨
   - ç¦æ­¢ä½¿ç”¨æœ¬å·¥å…·åˆ›ä½œä¾µæƒå†…å®¹

4. **æœåŠ¡å¯ç”¨æ€§**ï¼š
   - æœ¬é¡¹ç›®ä¾èµ–ç¬¬ä¸‰æ–¹ AI æœåŠ¡ï¼Œå¯èƒ½å› æœåŠ¡å•†åŸå› å¯¼è‡´åŠŸèƒ½ä¸å¯ç”¨
   - è¯·å®šæœŸå¤‡ä»½ä½ çš„å°è¯´æ•°æ®
   - å¼€å‘è€…ä¸å¯¹æ•°æ®ä¸¢å¤±æ‰¿æ‹…è´£ä»»

5. **ä½¿ç”¨é™åˆ¶**ï¼š
   - è¯·éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„
   - ç¦æ­¢ä½¿ç”¨æœ¬å·¥å…·åˆ›ä½œè¿æ³•è¿è§„å†…å®¹
   - AI API è°ƒç”¨ä¼šäº§ç”Ÿè´¹ç”¨ï¼Œè¯·æ³¨æ„æˆæœ¬æ§åˆ¶

---

## ğŸ“„ å¼€æºè®¸å¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

```
MIT License

Copyright (c) 2025 AI Novel Assistant Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
```

---

## ğŸ™ è‡´è°¢

### æŠ€æœ¯æ ˆ

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š

- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [Ant Design Vue](https://antdv.com/) - ä¼ä¸šçº§ UI ç»„ä»¶åº“
- [Monaco Editor](https://microsoft.github.io/monaco-editor/) - å¼ºå¤§çš„ä»£ç ç¼–è¾‘å™¨
- [Prisma](https://www.prisma.io/) - ç°ä»£ TypeScript ORM
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶

### è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

[è´¡çŒ®è€…å¤´åƒå¢™å ä½ - ä½¿ç”¨ GitHub Contributors è‡ªåŠ¨ç”Ÿæˆ]

<a href="https://github.com/stevendong/ai-novel-assistant/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=stevendong/ai-novel-assistant" />
</a>

### èµåŠ©å•†

[èµåŠ©å•† Logo å ä½åŒºåŸŸ]

å¦‚æœè¿™ä¸ªé¡¹ç›®å¸®åŠ©åˆ°äº†ä½ ï¼Œæ¬¢è¿[èµåŠ©æ”¯æŒ](https://github.com/sponsors/stevendong)é¡¹ç›®å‘å±•ï¼

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ“§ **Email**: support@ai-novel-assistant.com
- ğŸ’¬ **Discussions**: [GitHub Discussions](https://github.com/stevendong/ai-novel-assistant/discussions)
- ğŸ› **Issues**: [GitHub Issues](https://github.com/stevendong/ai-novel-assistant/issues)
- ğŸ“± **ç¤¾äº¤åª’ä½“**: [Twitter](https://twitter.com/yourhandle) | [çŸ¥ä¹](#)

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

![GitHub Stars](https://img.shields.io/github/stars/stevendong/ai-novel-assistant?style=for-the-badge)
![GitHub Forks](https://img.shields.io/github/forks/stevendong/ai-novel-assistant?style=for-the-badge)
![GitHub Issues](https://img.shields.io/github/issues/stevendong/ai-novel-assistant?style=for-the-badge)
![GitHub Pull Requests](https://img.shields.io/github/issues-pr/stevendong/ai-novel-assistant?style=for-the-badge)
![GitHub Last Commit](https://img.shields.io/github/last-commit/stevendong/ai-novel-assistant?style=for-the-badge)
![GitHub Contributors](https://img.shields.io/github/contributors/stevendong/ai-novel-assistant?style=for-the-badge)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼â­**

Made with â¤ï¸ by the AI Novel Assistant Team

[å›åˆ°é¡¶éƒ¨](#ai-novel-assistant)

</div>

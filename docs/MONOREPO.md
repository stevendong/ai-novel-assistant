# AI Novel Assistant - Monorepo æ¶æ„

è¿™ä¸ªé¡¹ç›®ç°åœ¨ä½¿ç”¨ npm workspaces è¿›è¡Œå¤šä»“ç®¡ç†ï¼Œæ‰€æœ‰ä¾èµ–éƒ½åœ¨æ ¹ç›®å½•ç»Ÿä¸€ç®¡ç†ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### é¦–æ¬¡è®¾ç½®
```bash
# è¿è¡Œè®¾ç½®è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/setup.sh

# æˆ–è€…æ‰‹åŠ¨å®‰è£…
npm install
```

### å¼€å‘æ¨¡å¼
```bash
# å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒï¼ˆå‰ç«¯ + åç«¯ï¼‰
npm run dev

# ä»…å¯åŠ¨å‰ç«¯
npm run client:dev

# ä»…å¯åŠ¨åç«¯
npm run server:dev
```

### æ„å»ºå’Œéƒ¨ç½²
```bash
# æ„å»ºå‰ç«¯
npm run build

# æ„å»ºæ‰€æœ‰å·¥ä½œåŒº
npm run build:all

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start
```

### æ•°æ®åº“ç®¡ç†
```bash
# æ¨é€æ•°æ®åº“æ¨¡å¼
npm run db:push

# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run db:migrate

# æ‰“å¼€ Prisma Studio
npm run db:studio
```

### ç»´æŠ¤å‘½ä»¤
```bash
# æ¸…ç†æ‰€æœ‰æ„å»ºäº§ç‰©å’Œä¾èµ–
npm run clean

# é‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–
npm run install:all

# è¿è¡Œç±»å‹æ£€æŸ¥
npm run type-check

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai-novel-assistant/
â”œâ”€â”€ package.json          # æ ¹å·¥ä½œåŒºé…ç½®
â”œâ”€â”€ client/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ package.json      # å‰ç«¯ä¾èµ–
â”‚   â””â”€â”€ ...
â”œâ”€â”€ server/               # åç«¯API
â”‚   â”œâ”€â”€ package.json      # åç«¯ä¾èµ–
â”‚   â””â”€â”€ ...
â”œâ”€â”€ scripts/              # è¾…åŠ©è„šæœ¬
â”‚   â””â”€â”€ setup.sh         # é¡¹ç›®è®¾ç½®è„šæœ¬
â””â”€â”€ docs/                # æ–‡æ¡£
```

## ğŸ”§ Workspace ä¼˜åŠ¿

1. **ç»Ÿä¸€ä¾èµ–ç®¡ç†**: æ‰€æœ‰ä¾èµ–åœ¨æ ¹ç›®å½•çš„ `node_modules` ä¸­ç®¡ç†
2. **ç®€åŒ–å®‰è£…**: åªéœ€è¦åœ¨æ ¹ç›®å½•è¿è¡Œ `npm install`
3. **å…±äº«ä¾èµ–**: å‡å°‘é‡å¤å®‰è£…ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´
4. **ç»Ÿä¸€è„šæœ¬**: åœ¨æ ¹ç›®å½•å°±èƒ½ç®¡ç†æ‰€æœ‰å­é¡¹ç›®
5. **ç‰ˆæœ¬ä¸€è‡´æ€§**: ç¡®ä¿æ‰€æœ‰å·¥ä½œåŒºä½¿ç”¨ç›¸åŒç‰ˆæœ¬çš„å…±äº«ä¾èµ–

## ğŸš¨ é‡è¦è¯´æ˜

- **ä¸å†éœ€è¦** åœ¨ `client/` æˆ– `server/` ç›®å½•ä¸‹å•ç‹¬è¿è¡Œ `npm install`
- æ‰€æœ‰ä¾èµ–ç®¡ç†éƒ½åœ¨æ ¹ç›®å½•è¿›è¡Œ
- ä½¿ç”¨ `npm run <script> --workspace=<workspace>` æ¥è¿è¡Œç‰¹å®šå·¥ä½œåŒºçš„è„šæœ¬
- æˆ–ä½¿ç”¨æ ¹ç›®å½•å®šä¹‰çš„ä¾¿æ·è„šæœ¬ï¼Œå¦‚ `npm run client:dev`

## ğŸ“ æ·»åŠ æ–°ä¾èµ–

```bash
# æ·»åŠ åˆ°å‰ç«¯
npm install <package> --workspace=client

# æ·»åŠ åˆ°åç«¯
npm install <package> --workspace=server

# æ·»åŠ åˆ°æ ¹å·¥ä½œåŒºï¼ˆå¼€å‘å·¥å…·ç­‰ï¼‰
npm install <package> -w root
```

## ğŸ” æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°ä¾èµ–é—®é¢˜ï¼š

1. æ¸…ç†å¹¶é‡æ–°å®‰è£…ï¼š
   ```bash
   npm run clean
   ./scripts/setup.sh
   ```

2. æ£€æŸ¥ Node.js å’Œ npm ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚
3. ç¡®ä¿æ²¡æœ‰åœ¨å­ç›®å½•ä¸­è¿è¡Œ `npm install`
